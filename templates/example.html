from django.urls import path
from .views import UserProfileListView, RecentPostsLimitedView

urlpatterns = [
    path('recent-posts/', UserProfileListView.as_view(), name='home'),
    path('', RecentPostsLimitedView.as_view(), name='home'),
]

class RecentPosts(models.Model):
    class Meta:
        ordering = ['-date']
    title = models.CharField(max_length=50)
    title_type = models.CharField(max_length=20)
    body = models.TextField()
    date = models.DateTimeField(auto_now_add=True)
    author = models.ForeignKey(
        settings.AUTH_USER_MODEL,
        on_delete=models.CASCADE, null=True
    )

    def __str__(self):
        return self.title
    
    def get_absolute_url(self):
        return reverse("recent_post_detail", kwargs={"pk": self.pk})

        from django.views.generic import ListView, DetailView
        from .models import UserProfile, RecentPosts
        
        
        class UserProfileListView(ListView):
            model = UserProfile
            template_name = 'home.html'
        
        class RecentPostsDetailView(DetailView):
            model = RecentPosts
            template_name = 'recent_posts_detail.html'
            #context_object_name = 'post'
        
        class RecentPostsLimitedView(ListView):
            model = RecentPosts
            template_name = 'home.html'
            context_object_name = 'posts'
            queryset = RecentPosts.objects.all()[:2]  # Display only two posts
        
        class RecentPostsFullView(ListView):
            model = RecentPosts
            template_name = 'recent_posts_list_full.html'
            #context_object_name = 'posts'
            queryset = RecentPosts.objects.all()  # Display all posts

<!-- userprofile_list.html -->

{% extends 'base.html' %}

{% block content %}
    {% for userprofile in userprofile_list %}
   
    <div class="home">
      <div class="home-child"></div>
      <div class="home-item"></div>
      <div class="works">Works</div>
      <div class="blog">Blog</div>
      <div class="contact">Contact</div>
      <div class="container">
      <b class="hi-i-am-container">
        <p class="hi-i-am">{{ userprofile.title }}</p>
      </b>
      <div class="amet-minim-mollit">{{ userprofile.bio }}</div>
      <div class="download-resume"><a href="{{ userprofile.get_resume_url }}">Download Resume</a></div>
      {% if userprofile.pics %}
      <img class="home-inner" src="{{ userprofile.get_profile_pic_url }}" alt="{{ userprofile.title }}'s Profile Picture">
        
      </div>
      {% endif %}
      {% endfor %}

      {% for post in posts %}
    <a href="{% url 'recent_posts_detail' pk=post.pk %}">Read more</a>
    <hr>
  
        
      <div class="rectangle-div"></div>
      <div class="home-child1"></div>
      <div class="home-child2"></div>
      <b class="creating-pixel-perfect">{{ post.title }}</b>
      
      <div class="figma-icon-design">Figma, Icon Design</div>
      <img class="vector-icon" alt="" src="./public/vector-1.svg" />

      <img class="home-child3" alt="" src="./public/vector-1.svg" />

      
      <div class="feb-20201">{{ post.date }}</div>

      <div class="amet-minim-mollit2">{{ post.body|truncatechars:50 }}</div>
      <div class="recent-posts">Recent posts</div>
      <div class="view-all">View all</div>
      {% endfor %}
      <div class="featured-works">Featured works</div>
      <div class="footer">
        <div class="footer-child"></div>
        <img class="fb-icon" alt="" src="./public/fb.svg" />

        <img class="linkedin-icon" alt="" src="./public/linkedin.svg" />

        <img class="group-icon" alt="" src="./public/group.svg" />

        <img class="insta-icon" alt="" src="./public/insta.svg" />

        <div class="copyright-2020-all">
          Copyright Â©2020 All rights reserved
        </div>
      </div>
      <b class="designing-dashboards">Designing Dashboards</b>
      <b class="vibrant-portraits-of">Vibrant Portraits of 2020</b>
      <b class="days-of-malayalam">36 Days of Malayalam type</b>
      <div class="dashboard">Dashboard</div>
      <div class="illustration">Illustration</div>
      <div class="typography">Typography</div>
      <div class="amet-minim-mollit3">
        Amet minim mollit non deserunt ullamco est sit aliqua dolor do amet
        sint. Velit officia consequat duis enim velit mollit. Exercitation
        veniam consequat sunt nostrud amet.
      </div>
      <div class="amet-minim-mollit4">
        Amet minim mollit non deserunt ullamco est sit aliqua dolor do amet
        sint. Velit officia consequat duis enim velit mollit. Exercitation
        veniam consequat sunt nostrud amet.
      </div>
      <div class="amet-minim-mollit5">
        Amet minim mollit non deserunt ullamco est sit aliqua dolor do amet
        sint. Velit officia consequat duis enim velit mollit. Exercitation
        veniam consequat sunt nostrud amet.
      </div>
      <div class="home-child4"></div>
      <div class="home-child5"></div>
      <div class="home-child6"></div>
      <div class="div">2020</div>
      <div class="div1">2018</div>
      <div class="div2">2018</div>
      <img class="home-child7" alt="" src="./public/vector-8.svg" />

      <img class="home-child8" alt="" src="./public/vector-8.svg" />

      <img class="home-child9" alt="" src="./public/vector-8.svg" />

      <img class="rectangle-icon" alt="" src="./public/rectangle-30@2x.png" />

      <img class="home-child10" alt="" src="./public/rectangle-32@2x.png" />

      <img class="home-child11" alt="" src="./public/rectangle-34@2x.png" />
    
    </div>
{% endblock %}


whats the problem